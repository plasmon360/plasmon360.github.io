<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>A Pelican Blog - octave</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="A Pelican Blog Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">A Pelican Blog </a></h1>
                <nav><ul>
                    <li><a href="/category/electronics.html">Electronics</a></li>
                    <li><a href="/category/free-software.html">Free Software</a></li>
                    <li><a href="/category/free-software-latex-publications.html">Free Software, Latex, Publications</a></li>
                    <li><a href="/category/free-software-linux.html">Free Software, Linux</a></li>
                    <li><a href="/category/free-software-matlab-plasmonics.html">Free Software, Matlab, Plasmonics</a></li>
                    <li><a href="/category/free-software-plasmonics.html">Free Software, Plasmonics</a></li>
                    <li><a href="/category/free-software-plasmonics-publications.html">Free Software, Plasmonics, Publications</a></li>
                    <li><a href="/category/linux-ramblings.html">Linux, Ramblings</a></li>
                    <li><a href="/category/matlab.html">Matlab</a></li>
                    <li><a href="/category/plasmonics.html">Plasmonics</a></li>
                    <li><a href="/category/plasmonics-publications.html">Plasmonics, Publications</a></li>
                    <li><a href="/category/plasmonics-researc.html">Plasmonics, Researc</a></li>
                    <li><a href="/category/publications.html">Publications</a></li>
                    <li><a href="/category/publications-test-equipment.html">Publications, Test Equipment</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                    <li><a href="/category/test-equipment.html">Test Equipment</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/plasmonic-materials-in-meep-1-2.html">Plasmonic Materials in MEEP > 1.2</a></h1>
<footer class="post-info">
        <abbr class="published" title="2015-06-13T16:59:00+00:00">
                Published: Sat 13 June 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/juluribk.html">juluribk</a>
        </address>
<p>In <a href="/category/plasmonics.html">Plasmonics</a>.</p>
<p>tags: <a href="/tag/electromagnetism.html">electromagnetism</a> <a href="/tag/fdtd.html">FDTD</a> <a href="/tag/meep.html">MEEP</a> <a href="/tag/octave.html">octave</a> <a href="/tag/plasmonics.html">Plasmonics</a> </p>
</footer><!-- /.post-info --><p><a href="http://juluribk.com/2011/04/27/plasmonic-materials-in-meep/" title="Plasmonic materials in MEEP">Here is</a> how I was implementing plasmonic materials in meep 1.1. Unlike Meep 1.1, Meep &gt;= 1. 2 changed the way materials are defined. </p>
<p>Here I will describe how to change the material definition code from meep1.1 to meep 1.2 . Please note that one can still use the material definition written from Meep &lt;1.2 for Meep &gt;=1.2 but not vice versa.</p>
<p><strong>Installation of Meep 1.2 on ubuntu</strong></p>
<p>You can follow instructions given in <a href="http://juluribk.com/2013/07/20/installing-meep-1-2-on-ubuntu/" title="Installing Meep 1.2 on ubuntu">my previous post</a> to compile Meep 1.2 from the source code, but the procedure is outdated and one can use the recently pre-compiled meep packages (which is much easier)</p>
<p>1) Updated computer to at least "The Utopic Unicorn" (Ubuntu 14.10). Meep 1.2 is compiled for this versions and above. U can see instructions here <a href="http://www.ubuntu.com/download/desktop/upgrade">how to update ubuntu distribution</a>.</p>
<p>2) Install meep 1.2 (for serial version) by <code>sudo apt-get install meep h5utils</code>  </p>
<p>3) check it by <code>meep --version</code> and quit the program by <code>(exit)</code></p>
<p><strong>Modifying the material definition type</strong></p>
<p>For meep 1.1, I used the following code to define silver material with lorentian model from Rakic et al with 100 nm length unit:</p>
<table class="highlight schemetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight scheme"><pre><span></span><span class="p">(</span><span class="k">define </span><span class="nv">myAg</span> <span class="p">(</span><span class="nf">make</span> <span class="nv">dielectric</span> <span class="p">(</span><span class="nf">epsilon</span> <span class="mi">1</span><span class="p">)</span>  
<span class="p">(</span><span class="nf">polarizations</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">polarizability</span>  
<span class="p">(</span><span class="nf">omega</span> <span class="mi">1</span><span class="nv">e-20</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.0038715</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">4.4625</span><span class="nv">e+39</span><span class="p">))</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">polarizability</span>  
<span class="p">(</span><span class="nf">omega</span> <span class="mf">0.065815</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.31343</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">7.9247</span><span class="p">))</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">polarizability</span>  
<span class="p">(</span><span class="nf">omega</span> <span class="mf">0.36142</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.036456</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">0.50133</span><span class="p">))</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">polarizability</span>  
<span class="p">(</span><span class="nf">omega</span> <span class="mf">0.66017</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.0052426</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">0.013329</span><span class="p">))</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">polarizability</span>  
<span class="p">(</span><span class="nf">omega</span> <span class="mf">0.73259</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.07388</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">0.82655</span><span class="p">))</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">polarizability</span>  
<span class="p">(</span><span class="nf">omega</span> <span class="mf">1.6365</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.19511</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">1.1133</span><span class="p">))</span>  
<span class="p">)))</span>
</pre></div>
</td></tr></table>

<p>This was generated by my octave/matlab code (see the material_polarization_generator.m) in the <a href="http://juluribk.com/wp-content/uploads/2011/04/reflection_meep_material_generator.zip">project file</a>.  One can use the this file to generate code for other plasmonic materials.</p>
<p>For Meep 1.2, I did the following changes to the above code</p>
<p>changed the word <code>polarizations</code> to <code>E-susceptibilities</code></p>
<p>changed the work <code>polarizability</code> to <code>lorentzian-susceptibility</code></p>
<p>changed the word <code>omega</code> to <code>frequency</code></p>
<p>So the meep1.2 code looks like this:</p>
<table class="highlight schemetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight scheme"><pre><span></span><span class="p">(</span><span class="k">define </span><span class="nv">myAg</span> <span class="p">(</span><span class="nf">make</span> <span class="nv">dielectric</span> <span class="p">(</span><span class="nf">epsilon</span> <span class="mi">1</span><span class="p">)</span>  
<span class="p">(</span><span class="nf">E-susceptibilities</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">lorentzian-susceptibility</span>  
<span class="p">(</span><span class="nf">frequency</span> <span class="mi">1</span><span class="nv">e-20</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.0038715</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">4.4625</span><span class="nv">e+39</span><span class="p">))</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">lorentzian-susceptibility</span>  
<span class="p">(</span><span class="nf">frequency</span> <span class="mf">0.065815</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.31343</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">7.9247</span><span class="p">))</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">lorentzian-susceptibility</span>  
<span class="p">(</span><span class="nf">frequency</span> <span class="mf">0.36142</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.036456</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">0.50133</span><span class="p">))</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">lorentzian-susceptibility</span>  
<span class="p">(</span><span class="nf">frequency</span> <span class="mf">0.66017</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.0052426</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">0.013329</span><span class="p">))</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">lorentzian-susceptibility</span>  
<span class="p">(</span><span class="nf">frequency</span> <span class="mf">0.73259</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.07388</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">0.82655</span><span class="p">))</span>  
<span class="p">(</span><span class="nf">make</span> <span class="nv">lorentzian-susceptibility</span>  
<span class="p">(</span><span class="nf">frequency</span> <span class="mf">1.6365</span><span class="p">)</span> <span class="p">(</span><span class="nf">gamma</span> <span class="mf">0.19511</span><span class="p">)</span> <span class="p">(</span><span class="nf">sigma</span> <span class="mf">1.1133</span><span class="p">))</span>  
<span class="p">)))</span>
</pre></div>
</td></tr></table>

<p>This seems to work fine for me. I used this new code to calculate the reflection from a thin silver film (like the way i did in my previous post) and it matches with the analytical calculation.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/parallelization-in-octave-using-parcellfunpararrayfun.html" rel="bookmark"
                           title="Permalink to Parallelization in Octave using parcellfun/pararrayfun">Parallelization in Octave using parcellfun/pararrayfun</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-03-09T13:27:00+00:00">
                Published: Fri 09 March 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/juluribk.html">juluribk</a>
        </address>
<p>In <a href="/category/free-software.html">Free Software</a>.</p>
<p>tags: <a href="/tag/octave.html">octave</a> </p>
</footer><!-- /.post-info -->                <p>My computer has many processors and I would like to run some octave scripts so that all the processors are being used.<br>
One can use octave function called "<a href="http://octave.sourceforge.net/general/function/pararrayfun.html">pararrayfun</a>" for this purpose. This function is part of "general" package on octave-forge.</p>
<p>On my ubuntu 11.10, I used "sudo apt-get …</p>
                <a class="readmore" href="/parallelization-in-octave-using-parcellfunpararrayfun.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/spaces-in-strings-in-matlaboctave.html" rel="bookmark"
                           title="Permalink to Spaces in strings in matlab/octave">Spaces in strings in matlab/octave</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-02-24T11:33:00+00:00">
                Published: Fri 24 February 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/juluribk.html">juluribk</a>
        </address>
<p>In <a href="/category/matlab.html">Matlab</a>.</p>
<p>tags: <a href="/tag/matlab.html">Matlab</a> <a href="/tag/octave.html">octave</a> </p>
</footer><!-- /.post-info -->                <p>To get spaces in the strings to work in matlab or octave, use</p>
<p>t1={'test test'}</p>
<p>Result is<br>
t1 =<br>
{<br>
[1,1] = test test<br>
}</p>
<p>t2=strcat({'test test '},{'blah blah'})</p>
<p>Result is<br>
t2 =<br>
{<br>
[1,1] = test test blah blah<br>
}</p>
<p>you can use this string in your figures by<br>
plot([1:4 …</p>
                <a class="readmore" href="/spaces-in-strings-in-matlaboctave.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/van-der-pauw-correction-factor.html" rel="bookmark"
                           title="Permalink to van der Pauw correction factor">van der Pauw correction factor</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-01-08T15:27:00+00:00">
                Published: Sun 08 January 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/juluribk.html">juluribk</a>
        </address>
<p>In <a href="/category/publications.html">Publications</a>.</p>
<p>tags: <a href="/tag/octave.html">octave</a> <a href="/tag/van-der-pauw.html">van der pauw</a> </p>
</footer><!-- /.post-info -->                <p>The <a href="http://en.wikipedia.org/wiki/Van_der_Pauw_method">van der Pauw</a> Method is a technique commonly used to measure the Resistivity and the Hall Coefficient of a sample. A correction factor goes into calculating the resistivity as described in <a href="http://electron.mit.edu/~gsteele/vanderpauw/vanderpauw.pdf">van der Pauw paper</a>. A iterative method is generally used to calculate the correction factor and this correction …</p>
                <a class="readmore" href="/van-der-pauw-correction-factor.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/surface-plasmon-dispersion-relation-for-thin-metal-films.html" rel="bookmark"
                           title="Permalink to Surface plasmon dispersion relation for thin metal films">Surface plasmon dispersion relation for thin metal films</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-12-07T21:12:00+00:00">
                Published: Wed 07 December 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/juluribk.html">juluribk</a>
        </address>
<p>In <a href="/category/plasmonics.html">Plasmonics</a>.</p>
<p>tags: <a href="/tag/electromagnetism.html">electromagnetism</a> <a href="/tag/octave.html">octave</a> <a href="/tag/plasmonics.html">Plasmonics</a> </p>
</footer><!-- /.post-info -->                <p>[latexpage]</p>
<p>A thin metal film in dielectric (also known as dielectric-metal-dielectric configuration) can support surface plasmons that are different in nature to the ones observed in thick metal-dielectric interfaces. Unlike, a single mode that is observed in thick metal film, thin metal films exhibit two types of modes for the …</p>
                <a class="readmore" href="/surface-plasmon-dispersion-relation-for-thin-metal-films.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/all-entries-of-array-except-certain-indices-in-octavematlab.html" rel="bookmark"
                           title="Permalink to All entries of array except certain indices in octave/matlab">All entries of array except certain indices in octave/matlab</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-12-07T18:14:00+00:00">
                Published: Wed 07 December 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/juluribk.html">juluribk</a>
        </address>
<p>In <a href="/category/publications.html">Publications</a>.</p>
<p>tags: <a href="/tag/matlab.html">Matlab</a> <a href="/tag/octave.html">octave</a> </p>
</footer><!-- /.post-info -->                <p>In Octave or Matlab, some times one needs to eliminate certain elements in an array.</p>
<p>For example, if</p>
<p>[cclN_matlab]<br>
a=[10,20,30,40,50,60];<br>
[/cclN_matlab]</p>
<p>and suppose I want to create a matrix "b" such that it has all the elements of "a" except 20 and 40. This …</p>
                <a class="readmore" href="/all-entries-of-array-except-certain-indices-in-octavematlab.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/arbitrary-2d-shapes-in-meep.html" rel="bookmark"
                           title="Permalink to Arbitrary 2d shapes in MEEP">Arbitrary 2d shapes in MEEP</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-05-10T22:52:00+00:00">
                Published: Tue 10 May 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/juluribk.html">juluribk</a>
        </address>
<p>In <a href="/category/publications.html">Publications</a>.</p>
<p>tags: <a href="/tag/electromagnetism.html">electromagnetism</a> <a href="/tag/fdtd.html">FDTD</a> <a href="/tag/meep.html">MEEP</a> <a href="/tag/octave.html">octave</a> <a href="/tag/photonics.html">photonics</a> <a href="/tag/plasmonics.html">Plasmonics</a> </p>
</footer><!-- /.post-info -->                <p><a href="http://juluribk.com/wp-content/uploads/2011/05/Arbirary_shapes-eps-000000000.png"><img alt="" class="aligncenter size-full wp-image-816" height="460" src="http://juluribk.com/wp-content/uploads/2011/05/Arbirary_shapes-eps-000000000.png" title="&quot;A&quot; shaped dielectric object in meep after triangulation" width="513"></a><a href="http://ab-initio.mit.edu/wiki/index.php/Meep">In MEEP (1.1.1)</a>, dielectric structures are often created by constructive geometry (adding and subtracting primitive shapes). The primitive shapes that are allowed are blocks, cylinders, ellipsoids and cones. To create a complex shape, one has to decompose the geometry into these primitive shapes. Over the weekend, I was …</p>
                <a class="readmore" href="/arbitrary-2d-shapes-in-meep.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/plasmonic-materials-in-meep.html" rel="bookmark"
                           title="Permalink to Plasmonic materials in MEEP">Plasmonic materials in MEEP</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-04-27T00:39:00+00:00">
                Published: Wed 27 April 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/juluribk.html">juluribk</a>
        </address>
<p>In <a href="/category/plasmonics-researc.html">Plasmonics, Researc</a>.</p>
<p>tags: <a href="/tag/electromagnetism.html">electromagnetism</a> <a href="/tag/fdtd.html">FDTD</a> <a href="/tag/free-software.html">Free Software</a> <a href="/tag/matlab.html">Matlab</a> <a href="/tag/meep.html">MEEP</a> <a href="/tag/octave.html">octave</a> <a href="/tag/photonics.html">photonics</a> <a href="/tag/plasmonics.html">Plasmonics</a> <a href="/tag/sers.html">SERS</a> </p>
</footer><!-- /.post-info -->                <p>[latexpage]</p>
<p>The aim of this post is to share my experience in incorporating dielectric function of metals such as gold and silver into MEEP (a free finite difference time domain package) code. The incorporation is not an easy task and can be daunting for the first time user.</p>
<p>Metals such …</p>
                <a class="readmore" href="/plasmonic-materials-in-meep.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>