<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Gnuplot rgb color schemes in matlab as colormaps</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="A Pelican Blog Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">A Pelican Blog </a></h1>
                <nav><ul>
                    <li><a href="/category/electronics.html">Electronics</a></li>
                    <li><a href="/category/free-software.html">Free Software</a></li>
                    <li><a href="/category/free-software-latex-publications.html">Free Software, Latex, Publications</a></li>
                    <li><a href="/category/free-software-linux.html">Free Software, Linux</a></li>
                    <li><a href="/category/free-software-matlab-plasmonics.html">Free Software, Matlab, Plasmonics</a></li>
                    <li><a href="/category/free-software-plasmonics.html">Free Software, Plasmonics</a></li>
                    <li><a href="/category/free-software-plasmonics-publications.html">Free Software, Plasmonics, Publications</a></li>
                    <li><a href="/category/linux-ramblings.html">Linux, Ramblings</a></li>
                    <li><a href="/category/matlab.html">Matlab</a></li>
                    <li><a href="/category/plasmonics.html">Plasmonics</a></li>
                    <li><a href="/category/plasmonics-publications.html">Plasmonics, Publications</a></li>
                    <li><a href="/category/plasmonics-researc.html">Plasmonics, Researc</a></li>
                    <li class="active"><a href="/category/publications.html">Publications</a></li>
                    <li><a href="/category/publications-test-equipment.html">Publications, Test Equipment</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                    <li><a href="/category/test-equipment.html">Test Equipment</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/843.html" rel="bookmark"
           title="Permalink to Gnuplot rgb color schemes in matlab as colormaps">Gnuplot rgb color schemes in matlab as colormaps</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2011-05-18T12:00:00+00:00">
                Published: Wed 18 May 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/juluribk.html">juluribk</a>
        </address>
<p>In <a href="/category/publications.html">Publications</a>.</p>

</footer><!-- /.post-info -->      <p>I like the color schemes that are used as <a href="http://gnuplot.sourceforge.net/demo/pm3dcolors.html">palettes in gnuplot's pm3d plots</a>. I wanted similar color schemes that can be used as colormaps in matlab.</p>
<p>After reading this <a href="http://gnuplot-tricks.blogspot.com/2009/06/comment-on-phonged-surfaces-in-gnuplot.html">article</a>, I found that  one can easily incorporate the traditional rgbpallette schemes in matlab</p>
<p>To start, there are several schemes in gnuplot  that can be used in pm3d plots and they are:</p>
<div class="highlight sql"><pre><span></span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span>   <span class="p">...</span> <span class="n">traditional</span> <span class="n">pm3d</span> <span class="p">(</span><span class="n">black</span><span class="o">-</span><span class="n">blue</span><span class="o">-</span><span class="n">red</span><span class="o">-</span><span class="n">yellow</span><span class="p">)</span>
<span class="mi">3</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">6</span>   <span class="p">...</span> <span class="n">green</span><span class="o">-</span><span class="n">red</span><span class="o">-</span><span class="n">violet</span>
<span class="mi">23</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">3</span>  <span class="p">...</span> <span class="n">ocean</span> <span class="p">(</span><span class="n">green</span><span class="o">-</span><span class="n">blue</span><span class="o">-</span><span class="n">white</span><span class="p">);</span> <span class="n">try</span> <span class="n">also</span> <span class="k">all</span> <span class="n">other</span> <span class="n">permutations</span>
<span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span> <span class="p">...</span> <span class="n">hot</span> <span class="p">(</span><span class="n">black</span><span class="o">-</span><span class="n">red</span><span class="o">-</span><span class="n">yellow</span><span class="o">-</span><span class="n">white</span><span class="p">)</span>
<span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">32</span> <span class="p">...</span> <span class="n">color</span> <span class="n">printable</span> <span class="k">on</span> <span class="n">gray</span> <span class="p">(</span><span class="n">black</span><span class="o">-</span><span class="n">blue</span><span class="o">-</span><span class="n">violet</span><span class="o">-</span><span class="n">yellow</span><span class="o">-</span><span class="n">white</span><span class="p">)</span>
<span class="mi">33</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span> <span class="p">...</span> <span class="n">rainbow</span> <span class="p">(</span><span class="n">blue</span><span class="o">-</span><span class="n">green</span><span class="o">-</span><span class="n">yellow</span><span class="o">-</span><span class="n">red</span><span class="p">)</span>
<span class="mi">34</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">36</span> <span class="p">...</span> <span class="n">AFM</span> <span class="n">hot</span> <span class="p">(</span><span class="n">black</span><span class="o">-</span><span class="n">red</span><span class="o">-</span><span class="n">yellow</span><span class="o">-</span><span class="n">white</span><span class="p">)</span>
</pre></div>


<p>The numbers represent different mapping functions for red, green and blue and the functions are</p>
<div class="highlight actionscript 3"><pre><span></span><span class="mi">0</span><span class="o">:</span> <span class="mi">0</span>               <span class="mi">1</span><span class="o">:</span> <span class="mf">0.5</span>             <span class="mi">2</span><span class="o">:</span> <span class="mi">1</span>
<span class="mi">3</span><span class="o">:</span> <span class="n">x</span>               <span class="mi">4</span><span class="o">:</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span>             <span class="mi">5</span><span class="o">:</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span>
<span class="mi">6</span><span class="o">:</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span>             <span class="mi">7</span><span class="o">:</span> <span class="n">sqrt</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>         <span class="mi">8</span><span class="o">:</span> <span class="n">sqrt</span><span class="o">(</span><span class="n">sqrt</span><span class="o">(</span><span class="n">x</span><span class="o">))</span>
<span class="mi">9</span><span class="o">:</span> <span class="n">sin</span><span class="o">(</span><span class="mi">90</span><span class="n">x</span><span class="o">)</span>       <span class="mi">10</span><span class="o">:</span> <span class="n">cos</span><span class="o">(</span><span class="mi">90</span><span class="n">x</span><span class="o">)</span>       <span class="mi">11</span><span class="o">:</span> <span class="o">|</span><span class="n">x</span><span class="o">-</span><span class="mf">0.5</span><span class="o">|</span>
<span class="mi">12</span><span class="o">:</span> <span class="o">(</span><span class="mi">2</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">)^</span><span class="mi">2</span>       <span class="mi">13</span><span class="o">:</span> <span class="n">sin</span><span class="o">(</span><span class="mi">180</span><span class="n">x</span><span class="o">)</span>      <span class="mi">14</span><span class="o">:</span> <span class="o">|</span><span class="n">cos</span><span class="o">(</span><span class="mi">180</span><span class="n">x</span><span class="o">)|</span>
<span class="mi">15</span><span class="o">:</span> <span class="n">sin</span><span class="o">(</span><span class="mi">360</span><span class="n">x</span><span class="o">)</span>      <span class="mi">16</span><span class="o">:</span> <span class="n">cos</span><span class="o">(</span><span class="mi">360</span><span class="n">x</span><span class="o">)</span>      <span class="mi">17</span><span class="o">:</span> <span class="o">|</span><span class="n">sin</span><span class="o">(</span><span class="mi">360</span><span class="n">x</span><span class="o">)|</span>
<span class="mi">18</span><span class="o">:</span> <span class="o">|</span><span class="n">cos</span><span class="o">(</span><span class="mi">360</span><span class="n">x</span><span class="o">)|</span>    <span class="mi">19</span><span class="o">:</span> <span class="o">|</span><span class="n">sin</span><span class="o">(</span><span class="mi">720</span><span class="n">x</span><span class="o">)|</span>    <span class="mi">20</span><span class="o">:</span> <span class="o">|</span><span class="n">cos</span><span class="o">(</span><span class="mi">720</span><span class="n">x</span><span class="o">)|</span>
<span class="mi">21</span><span class="o">:</span> <span class="mi">3</span><span class="n">x</span>             <span class="mi">22</span><span class="o">:</span> <span class="mi">3</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span>           <span class="mi">23</span><span class="o">:</span> <span class="mi">3</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span>
<span class="mi">24</span><span class="o">:</span> <span class="o">|</span><span class="mi">3</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">|</span>         <span class="mi">25</span><span class="o">:</span> <span class="o">|</span><span class="mi">3</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="o">|</span>         <span class="mi">26</span><span class="o">:</span> <span class="o">(</span><span class="mi">3</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">)/</span><span class="mi">2</span>
<span class="mi">27</span><span class="o">:</span> <span class="o">(</span><span class="mi">3</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="o">)/</span><span class="mi">2</span>       <span class="mi">28</span><span class="o">:</span> <span class="o">|(</span><span class="mi">3</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">)/</span><span class="mi">2</span><span class="o">|</span>     <span class="mi">29</span><span class="o">:</span> <span class="o">|(</span><span class="mi">3</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="o">)/</span><span class="mi">2</span><span class="o">|</span>
<span class="mi">30</span><span class="o">:</span> <span class="n">x</span><span class="sr">/0.32-0.78125 31: 2*x-0.84       32: 4x;1;-2x+1.84;x/</span><span class="mf">0.08</span><span class="o">-</span><span class="mf">11.5</span>
<span class="mi">33</span><span class="o">:</span> <span class="o">|</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.5</span><span class="o">|</span>    <span class="mi">34</span><span class="o">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span>            <span class="mi">35</span><span class="o">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.5</span>
<span class="mi">36</span><span class="o">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
<span class="o">*</span> <span class="n">negative</span> <span class="n">numbers</span> <span class="n">mean</span> <span class="n">inverted</span><span class="o">=</span><span class="n">negative</span> <span class="n">colour</span> <span class="n">component</span>
<span class="o">*</span> <span class="n">thus</span> <span class="n">the</span> <span class="n">ranges</span> <span class="k">in</span> <span class="err">`</span><span class="kd">set</span> <span class="n">pm3d</span> <span class="n">rgbformulae</span><span class="err">&#39;</span> <span class="n">are</span> <span class="o">-</span><span class="mi">36</span><span class="o">..</span><span class="mi">36</span>
</pre></div>


<p>For example, if we choose, 7,5,15 , ie, traditional pm3d (black-blue-red-yellow), the three numbers correspond to functions used for red, green and blue respectively. So in this case, red(x)=sqrt(x), green(x)=x\^3 and blue(x)=sin(2*pi*x), where x has range from 0 to 1. Note that red(x)/green(x)/blue(x) should not be negative numbers, so if they are negative make then zeros.</p>
<p>With that knowledge, here is a matlab code that creates 7,5,15 and 3,11,6 colormaps and uses it in the display of an image.<br>
[cc lang='matlab']<br>
clear all<br>
x=linspace(0,1,128);<br>
r = sqrt(x);<br>
g = x.\^3.0;<br>
b=sin(x*2*pi);<br>
b(b&lt;0)=0;<br>
pm3d7515_bbry=[r;g;b]'<br>
figure<br>
load mandrill;<br>
imagesc(X);<br>
colormap(pm3d7515_bbry);<br>
colorbar</p>
<p>r = x;<br>
g = abs(x-0.5);<br>
b=x.\^4;<br>
pm3d3116_grv=[r;g;b]'<br>
figure<br>
load mandrill;<br>
imagesc(X);<br>
colormap(pm3d3116_grv);<br>
colorbar</p>
<p>[/cc]</p>
<p>This results are shown below. Other color schemes can be similarly incorporated into matlab codes.<br>
[gallery order="DESC"]</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>