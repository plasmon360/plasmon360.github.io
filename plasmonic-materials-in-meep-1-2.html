<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  Plasmonic Materials in MEEP > 1.2 | Bala Juluri
</title>
  <link rel="canonical" href="./plasmonic-materials-in-meep-1-2.html">


  <link rel="stylesheet" href="./theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="./theme/css/fontawesome.min.css">
  <link rel="stylesheet" href="./theme/css/pygments/default.min.css">
  <link rel="stylesheet" href="./theme/css/theme.css">

  <link rel="alternate" type="application/atom+xml" title="Full Atom Feed"
        href="plasmon360.github.io/feeds/all.atom.xml">
  <link rel="alternate" type="application/atom+xml" title="Categories Atom Feed"
        href="plasmon360.github.io/feeds/plasmonics.atom.xml">  
  <meta name="description" content="Here is how I was implementing plasmonic materials in meep 1.1. Unlike Meep 1.1, Meep >= 1. 2 changed the way materials are defined. Here I will describe how to change the material definition code from meep1.1 to meep 1.2 . Please note that one can still use …">
  <script>
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o);
      a.async = 1;
      a.src = g;
      m = s.getElementsByTagName(o)[0];
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-27406008-1', 'auto');
    ga('send', 'pageview');
  </script>


</head>

<body>
  <header class="header">
    <div class="container">
<div class="row">
  <div class="col-sm-12">
    <h1 class="title"><a href="./">Bala Juluri</a></h1>
  </div>
</div>    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>  Plasmonic Materials in MEEP > 1.2
</h1>
      <hr>
  <article class="article">
    <header>
      <ul class="list-inline">
        <li class="list-inline-item text-muted" title="2015-06-13T16:59:00-07:00">
          <i class="fas fa-clock"></i>
          Sat 13 June 2015
        </li>
        <li class="list-inline-item">
          <i class="fas fa-folder-open"></i>
          <a href="./category/plasmonics.html">Plasmonics</a>
        </li>
          <li class="list-inline-item">
            <i class="fas fa-tag"></i>
              <a href="./tag/electromagnetism.html">#electromagnetism</a>,               <a href="./tag/fdtd.html">#FDTD</a>,               <a href="./tag/meep.html">#MEEP</a>,               <a href="./tag/octave.html">#octave</a>,               <a href="./tag/plasmonics.html">#Plasmonics</a>          </li>
      </ul>
    </header>
    <div class="content">
      <p><a href="http://juluribk.com/2011/04/27/plasmonic-materials-in-meep/" title="Plasmonic materials in MEEP">Here is</a> how I was implementing plasmonic materials in meep 1.1. Unlike Meep 1.1, Meep &gt;= 1. 2 changed the way materials are defined. </p>
<p>Here I will describe how to change the material definition code from meep1.1 to meep 1.2 . Please note that one can still use the material definition written from Meep &lt;1.2 for Meep &gt;=1.2 but not vice versa.</p>
<p><strong>Installation of Meep 1.2 on ubuntu</strong></p>
<p>You can follow instructions given in <a href="http://juluribk.com/2013/07/20/installing-meep-1-2-on-ubuntu/" title="Installing Meep 1.2 on ubuntu">my previous post</a> to compile Meep 1.2 from the source code, but the procedure is outdated and one can use the recently pre-compiled meep packages (which is much easier)</p>
<p>1) Updated computer to at least "The Utopic Unicorn" (Ubuntu 14.10). Meep 1.2 is compiled for this versions and above. U can see instructions here <a href="http://www.ubuntu.com/download/desktop/upgrade">how to update ubuntu distribution</a>.</p>
<p>2) Install meep 1.2 (for serial version) by <code>sudo apt-get install meep h5utils</code>  </p>
<p>3) check it by <code>meep --version</code> and quit the program by <code>(exit)</code></p>
<p><strong>Modifying the material definition type</strong></p>
<p>For meep 1.1, I used the following code to define silver material with lorentian model from Rakic et al with 100 nm length unit:</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="nv">myAg</span><span class="w"> </span><span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">dielectric</span><span class="w"> </span><span class="p">(</span><span class="nf">epsilon</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">  </span>
<span class="p">(</span><span class="nf">polarizations</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">polarizability</span><span class="w">  </span>
<span class="p">(</span><span class="nf">omega</span><span class="w"> </span><span class="mi">1e-20</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.0038715</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">4.4625e+39</span><span class="p">))</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">polarizability</span><span class="w">  </span>
<span class="p">(</span><span class="nf">omega</span><span class="w"> </span><span class="mf">0.065815</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.31343</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">7.9247</span><span class="p">))</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">polarizability</span><span class="w">  </span>
<span class="p">(</span><span class="nf">omega</span><span class="w"> </span><span class="mf">0.36142</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.036456</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">0.50133</span><span class="p">))</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">polarizability</span><span class="w">  </span>
<span class="p">(</span><span class="nf">omega</span><span class="w"> </span><span class="mf">0.66017</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.0052426</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">0.013329</span><span class="p">))</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">polarizability</span><span class="w">  </span>
<span class="p">(</span><span class="nf">omega</span><span class="w"> </span><span class="mf">0.73259</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.07388</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">0.82655</span><span class="p">))</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">polarizability</span><span class="w">  </span>
<span class="p">(</span><span class="nf">omega</span><span class="w"> </span><span class="mf">1.6365</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.19511</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">1.1133</span><span class="p">))</span><span class="w">  </span>
<span class="p">)))</span>
</code></pre></div>

<p>This was generated by my octave/matlab code (see the material_polarization_generator.m) in the <a href="http://juluribk.com/wp-content/uploads/2011/04/reflection_meep_material_generator.zip">project file</a>.  One can use the this file to generate code for other plasmonic materials.</p>
<p>For Meep 1.2, I did the following changes to the above code</p>
<p>changed the word <code>polarizations</code> to <code>E-susceptibilities</code></p>
<p>changed the work <code>polarizability</code> to <code>lorentzian-susceptibility</code></p>
<p>changed the word <code>omega</code> to <code>frequency</code></p>
<p>So the meep1.2 code looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="nv">myAg</span><span class="w"> </span><span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">dielectric</span><span class="w"> </span><span class="p">(</span><span class="nf">epsilon</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">  </span>
<span class="p">(</span><span class="nf">E-susceptibilities</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">lorentzian-susceptibility</span><span class="w">  </span>
<span class="p">(</span><span class="nf">frequency</span><span class="w"> </span><span class="mi">1e-20</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.0038715</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">4.4625e+39</span><span class="p">))</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">lorentzian-susceptibility</span><span class="w">  </span>
<span class="p">(</span><span class="nf">frequency</span><span class="w"> </span><span class="mf">0.065815</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.31343</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">7.9247</span><span class="p">))</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">lorentzian-susceptibility</span><span class="w">  </span>
<span class="p">(</span><span class="nf">frequency</span><span class="w"> </span><span class="mf">0.36142</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.036456</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">0.50133</span><span class="p">))</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">lorentzian-susceptibility</span><span class="w">  </span>
<span class="p">(</span><span class="nf">frequency</span><span class="w"> </span><span class="mf">0.66017</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.0052426</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">0.013329</span><span class="p">))</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">lorentzian-susceptibility</span><span class="w">  </span>
<span class="p">(</span><span class="nf">frequency</span><span class="w"> </span><span class="mf">0.73259</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.07388</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">0.82655</span><span class="p">))</span><span class="w">  </span>
<span class="p">(</span><span class="nf">make</span><span class="w"> </span><span class="nv">lorentzian-susceptibility</span><span class="w">  </span>
<span class="p">(</span><span class="nf">frequency</span><span class="w"> </span><span class="mf">1.6365</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">gamma</span><span class="w"> </span><span class="mf">0.19511</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">sigma</span><span class="w"> </span><span class="mf">1.1133</span><span class="p">))</span><span class="w">  </span>
<span class="p">)))</span>
</code></pre></div>

<p>This seems to work fine for me. I used this new code to calculate the reflection from a thin silver film (like the way i did in my previous post) and it matches with the analytical calculation.</p>
    </div>
  </article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
    <li class="list-inline-item"><a href="./archives.html">Archives</a></li>
    <li class="list-inline-item"><a href="./categories.html">Categories</a></li>
      <li class="list-inline-item"><a href="./tags.html">Tags</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>    </div>
  </footer>

</body>

</html>